{"version":11,"variables":[],"tiles":{"34":{"type":"markdown","title":"","content":"## ðŸ“Š Trade Volume"},"35":{"type":"markdown","title":"","content":"## ðŸ’° Trade Dollar Volume"},"36":{"type":"markdown","title":"","content":"## â± Trade Performance"},"37":{"type":"data","title":"Sell  Latency (Avg)","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-sell\"\n| filter isNotNull(Duration)\n| summarize SellLatencyAvg = round(avg(Duration),decimals:2)\n| fields Status = concat((SellLatencyAvg),\" ms \")","visualizationSettings":{"chartSettings":{"gapPolicy":"connect","legend":{"hidden":false,"position":"bottom"},"seriesOverrides":[{"seriesId":"sell","override":{"color":"#b3007d"}},{"seriesId":"buy","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-01-default, #4646d2)","Hover":"var(--dt-colors-charts-categorical-color-01-hover, #3838a8)","Active":"var(--dt-colors-charts-categorical-color-01-active, #2a2a7e)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-01-default-transparent, #1b1bc9cc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-01-hover-transparent, #090995cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-01-active-transparent, #000060cc)"}}}]},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":"sec"}},"visualization":"singleValue"},"38":{"type":"data","title":"Buy Latency (Avg)","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\"\n| filter isNotNull(Duration)\n| summarize BuyLatencyAvg = round(avg(Duration),decimals:2)\n| fields Status = concat((BuyLatencyAvg),\" ms \")\n","visualizationSettings":{"chartSettings":{"gapPolicy":"connect","legend":{"hidden":false,"position":"bottom"},"seriesOverrides":[{"seriesId":"sell","override":{"color":"#b3007d"}},{"seriesId":"buy","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-01-default, #4646d2)","Hover":"var(--dt-colors-charts-categorical-color-01-hover, #3838a8)","Active":"var(--dt-colors-charts-categorical-color-01-active, #2a2a7e)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-01-default-transparent, #1b1bc9cc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-01-hover-transparent, #090995cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-01-active-transparent, #000060cc)"}}}]},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":"sec"}},"visualization":"singleValue"},"39":{"type":"data","title":"Sell (Avg)","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-sell\"\n| filter isNotNull(Amount)\n| summarize SellTradeVolumeAvg =  avg((Amount)*(Price))","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[]},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":"$"}},"visualization":"singleValue"},"40":{"type":"data","title":"Buy (Avg)","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\"\n| filter isNotNull(Amount)\n| summarize BuyTradeVolumeAvg =  avg((Amount)*(Price))","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[]},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":"$"}},"visualization":"singleValue"},"41":{"type":"data","title":"Sell  (Total)","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-sell\"\n| filter isNotNull(Amount)\n| summarize SellTradeVolume =  sum((Amount)*(Price))","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[]},"singleValueSettings":{"autoscale":true,"showLabel":false,"suffix":"$"}},"visualization":"singleValue"},"42":{"type":"data","title":"Buy (Total)","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\"\n| filter isNotNull(Amount)\n| summarize BuyTradeVolume =  sum((Amount)*(Price))","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[]},"singleValueSettings":{"autoscale":true,"showLabel":false,"suffix":"$"}},"visualization":"singleValue"},"43":{"type":"data","title":"Sell","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-sell\"\n| filter isNotNull(Amount)\n| summarize SellTotal = count()","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":false},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[]},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":""}},"visualization":"singleValue"},"44":{"type":"data","title":"Buy","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\"\n| filter isNotNull(Amount)\n| summarize BuyTotal = count()","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":false},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[]},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":""}},"visualization":"singleValue"},"45":{"type":"data","title":"Latency (Avg)","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\" or event.type == \"com.easytrade.long-sell\"\n| filter isNotNull(Duration)\n| parse event.type, \"'com.easytrade.long-' STRING:tradeType\"\n| makeTimeseries ResponseTimeAvg = avg(Duration), by:{tradeType}","visualizationSettings":{"chartSettings":{"gapPolicy":"connect","legend":{"hidden":false,"position":"bottom"},"seriesOverrides":[{"seriesId":"buy","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-01-default, #4646d2)","Hover":"var(--dt-colors-charts-categorical-color-01-hover, #3838a8)","Active":"var(--dt-colors-charts-categorical-color-01-active, #2a2a7e)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-01-default-transparent, #1b1bc9cc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-01-hover-transparent, #090995cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-01-active-transparent, #000060cc)"}}},{"seriesId":"sell","override":{"color":{"Default":"var(--dt-colors-charts-categorical-themed-fireplace-color-06-default, #b3007d)","Hover":"var(--dt-colors-charts-categorical-themed-fireplace-color-06-hover, #8f0064)","Active":"var(--dt-colors-charts-categorical-themed-fireplace-color-06-active, #6b004b)","DefaultTransparent":"var(--dt-colors-charts-categorical-themed-fireplace-color-06-default-transparent, #880056cc)","HoverTransparent":"var(--dt-colors-charts-categorical-themed-fireplace-color-06-hover-transparent, #3c0026cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-themed-fireplace-color-06-active-transparent, #000c)"}}}],"leftYAxisSettings":{"min":"auto","max":"auto"}},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":""}},"visualization":"lineChart"},"46":{"type":"data","title":"Volume by TradeType  (Avg)","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\" or event.type == \"com.easytrade.long-sell\"\n| filter isNotNull(Amount)\n| parse event.type, \"'com.easytrade.long-' STRING:tradeType\"\n| fieldsAdd totalTradeAmount = (Amount)*(Price)\n| makeTimeseries TradeVolumeAvg = avg(totalTradeAmount), by:{tradeType} ","visualizationSettings":{"chartSettings":{"gapPolicy":"connect","seriesOverrides":[{"seriesId":"buy","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-01-default, #4646d2)","Hover":"var(--dt-colors-charts-categorical-color-01-hover, #3838a8)","Active":"var(--dt-colors-charts-categorical-color-01-active, #2a2a7e)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-01-default-transparent, #1b1bc9cc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-01-hover-transparent, #090995cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-01-active-transparent, #000060cc)"}}},{"seriesId":"sell","override":{"color":"#b3007d"}}],"legend":{"hidden":false,"position":"bottom"}},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[["buy"]]},"tableSettings":{"displayMode":"edit","lineWrapIds":[]},"singleValueSettings":{"autoscale":true,"showLabel":false,"suffix":"$$$"}},"visualization":"barChart"},"47":{"type":"data","title":"Volume by TradeType (Total)","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\" or event.type == \"com.easytrade.long-sell\"\n| filter isNotNull(Amount)\n| parse event.type, \"'com.easytrade.long-' STRING:tradeType\"\n| fieldsAdd totalTradeAmount = (Amount)*(Price)\n| makeTimeseries TradeVolume = Sum(totalTradeAmount), by:{tradeType} ","visualizationSettings":{"chartSettings":{"gapPolicy":"connect","seriesOverrides":[{"seriesId":"sell","override":{"color":"#b3007d"}}],"legend":{"hidden":false,"position":"bottom"},"leftYAxisSettings":{"label":"","min":0}},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[["buy"]]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":true,"showLabel":false,"suffix":"$$$"}},"visualization":"barChart"},"48":{"type":"data","title":"Trades by TradeType","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\" or event.type == \"com.easytrade.long-sell\"\n| filter isNotNull(Amount)\n| parse event.type, \"'com.easytrade.long-' STRING:tradeType\"\n| makeTimeseries totalTrades = count(), by:{tradeType} ","visualizationSettings":{"chartSettings":{"gapPolicy":"connect","seriesOverrides":[{"seriesId":"sell","override":{"color":"#b3007d"}}],"leftYAxisSettings":{"scale":"linear","label":""},"legend":{"hidden":false,"position":"bottom"},"valueRepresentation":"absolute"},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[]},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":""}},"visualization":"barChart"},"49":{"type":"data","title":"Top Trade Dollar Volume by Account ID","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\" or event.type == \"com.easytrade.long-sell\"\n| parse  `Account ID`, \"LD:AccountID '.'\"\n| filter isNotNull(Amount)\n| fieldsAdd totalTradeAmount = (toDouble(Amount)*toDouble(Price))\n| summarize Total = Sum(totalTradeAmount), by:{AccountID}\n| sort Total, direction:\"descending\"\n| limit 10\n//fetch bizevents, from:now()-30m\n//| filter matchesValue(event.provider, \"www.easytrade.com\")\n//| filter event.type == \"com.easytrade.long-buy\"\n//| filter isNotNull(Amount)\n//| parse event.type, \"'com.easytrade.' STRING:tradeType\"\n//| fields {timestamp, alias:Time}, `Account ID`, Amount, Price = round(Price, decimals:2), TotalVolume = round(Amount * Price, decimals:2)\n//| sort Time, direction:\"descending\"\n//| limit 5","visualizationSettings":{"chartSettings":{"gapPolicy":"connect","categoricalBarChartSettings":{"categoryAxis":"AccountID","categoryAxisLabel":"AccountID","valueAxis":"Total","valueAxisLabel":"Total","layout":"horizontal"},"legend":{"hidden":true}},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":false,"lineWrapIds":[]}},"visualization":"categoricalBarChart"},"50":{"type":"data","title":"Top Trade Volume by Account ID","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\" or event.type == \"com.easytrade.long-sell\"\n| parse  `Account ID`, \"LD:AccountID '.'\"\n| filter isNotNull(Amount)\n| summarize Total = count(), by:{AccountID}\n| sort Total, direction:\"descending\"\n| limit 10\n//fetch bizevents, from:now()-30m\n//| filter matchesValue(event.provider, \"www.easytrade.com\")\n//| filter event.type == \"com.easytrade.long-buy\"\n//| filter isNotNull(Amount)\n//| parse event.type, \"'com.easytrade.' STRING:tradeType\"\n//| fields {timestamp, alias:Time}, `Account ID`, Amount, Price = round(Price, decimals:2), TotalVolume = round(Amount * Price, decimals:2)\n//| sort Time, direction:\"descending\"\n//| limit 5","visualizationSettings":{"chartSettings":{"gapPolicy":"connect","categoricalBarChartSettings":{"categoryAxis":"AccountID","categoryAxisLabel":"AccountID","valueAxis":"Total","valueAxisLabel":"Total","layout":"horizontal"},"legend":{"hidden":true}},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":false,"lineWrapIds":[]}},"visualization":"categoricalBarChart"},"51":{"type":"data","title":"Top increase in value by Account ID","query":"fetch bizevents\n| filter event.provider == \"www.easytrade.com\"\n| filter event.type == \"com.easytrade.withdraw\" or event.type == \"com.easytrade.deposit\"\n| fieldsAdd amount_withdrawal = if(event.type==\"com.easytrade.withdraw\", toDouble(Amount), else:0.0)\n| fieldsAdd amount_deposit = if(event.type==\"com.easytrade.deposit\", toDouble(Amount), else:0.0)\n| summarize {total_withdrawals = sum(amount_withdrawal), total_deposits = sum(amount_deposit)}, by:{`Account ID`}\n| fieldsAdd BalanceChange = round(total_deposits - total_withdrawals,decimals:2)\n| filter BalanceChange > 0.0\n| fields `Account ID`, BalanceChange\n| sort BalanceChange, direction:\"descending\"\n| limit 5","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"hiddenColumns":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":true,"suffix":""}},"visualization":"table"},"52":{"type":"data","title":"Buy SLA status","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\" \n| filter isNotNull(Duration)\n| fieldsAdd sla = if(Duration > 23, \"NotMet\", else: \"Met\")\n| summarize slaPercentage=round(toDouble(countIf(sla == \"Met\"))/toDouble(Count()) * 100,decimals:2)\n| fieldsAdd slaStatus = if(slaPercentage <= 95, \"NotMet âŒ \", else:\"Met âœ… \")\n| fields Status = concat((slaPercentage), \"% \", (slaStatus))\n\n","visualizationSettings":{"chartSettings":{"gapPolicy":"connect","legend":{"hidden":true,"position":"auto"},"colorPalette":["apdex"],"categoricalBarChartSettings":{"layout":"vertical","scale":"relative","categoryAxisTickLayout":"vertical"},"circleChartSettings":{"groupingThresholdValue":null,"groupingThresholdType":"relative","groupingName":"slaStatus","hideLabels":true},"valueRepresentation":"relative","seriesOverrides":[{"seriesId":"NotMet_slaStatus","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #d50b34)","Hover":"var(--dt-colors-charts-categorical-color-12-hover, #b30024)","Active":"var(--dt-colors-charts-categorical-color-12-active, #7e071d)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-12-default-transparent, #c5000ccc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-12-hover-transparent, #83000fcc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-12-active-transparent, #140000cc)"}}},{"seriesId":"Met_slaStatus","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #0d9c29)","Hover":"var(--dt-colors-charts-categorical-color-09-hover, #0a7b20)","Active":"var(--dt-colors-charts-categorical-color-09-active, #075f19)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-09-default-transparent, #008500cc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-09-hover-transparent, #005905cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-09-active-transparent, #003112cc)"}}}]},"singleValue":{"showLabel":false,"label":"","autoscale":true,"recordField":"Status"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":"","recordField":"slaStatus"}},"visualization":"singleValue"},"53":{"type":"data","title":"Sell SLA status","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-sell\"\n| filter isNotNull(Duration)\n| fieldsAdd sla = if(Duration > 23, \"NotMet\", else: \"Met\")\n| summarize slaPercentage=round(toDouble(countIf(sla == \"Met\"))/toDouble(Count()) * 100,decimals:2)\n| fieldsAdd slaStatus = if(slaPercentage <= 95, \"NotMet âŒ \", else:\"Met âœ… \")\n| fields Status = concat((slaPercentage), \"% \", (slaStatus))\n","visualizationSettings":{"chartSettings":{"gapPolicy":"connect","legend":{"hidden":true,"position":"auto"},"colorPalette":["apdex"],"categoricalBarChartSettings":{"layout":"vertical","scale":"relative","categoryAxisTickLayout":"vertical"},"circleChartSettings":{"groupingThresholdValue":null,"groupingThresholdType":"relative","groupingName":"slaStatus","hideLabels":true},"valueRepresentation":"relative","seriesOverrides":[{"seriesId":"NotMet_slaStatus","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #d50b34)","Hover":"var(--dt-colors-charts-categorical-color-12-hover, #b30024)","Active":"var(--dt-colors-charts-categorical-color-12-active, #7e071d)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-12-default-transparent, #c5000ccc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-12-hover-transparent, #83000fcc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-12-active-transparent, #140000cc)"}}},{"seriesId":"Met_slaStatus","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #0d9c29)","Hover":"var(--dt-colors-charts-categorical-color-09-hover, #0a7b20)","Active":"var(--dt-colors-charts-categorical-color-09-active, #075f19)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-09-default-transparent, #008500cc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-09-hover-transparent, #005905cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-09-active-transparent, #003112cc)"}}}]},"singleValue":{"showLabel":false,"label":"","autoscale":true,"recordField":"Status"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":"","recordField":"slaStatus"}},"visualization":"singleValue"},"54":{"type":"data","title":"Top decrease in value by Account ID","query":"fetch bizevents\n| filter event.provider == \"www.easytrade.com\"\n| filter event.type == \"com.easytrade.withdraw\" or event.type == \"com.easytrade.deposit\"\n| fieldsAdd amount_withdrawal = if(event.type==\"com.easytrade.withdraw\", toDouble(Amount), else:0.0)\n| fieldsAdd amount_deposit = if(event.type==\"com.easytrade.deposit\", toDouble(Amount), else:0.0)\n| summarize {total_withdrawals = sum(amount_withdrawal), total_deposits = sum(amount_deposit)}, by:{`Account ID`}\n| fieldsAdd BalanceChange = round(total_deposits - total_withdrawals,decimals:2)\n| filter BalanceChange < 0.0\n| fields `Account ID`, BalanceChange\n| sort BalanceChange, direction:\"ascending\"\n| limit 5","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"hiddenColumns":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":true,"suffix":""}},"visualization":"table"},"55":{"type":"data","title":"Buy SLA status","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-buy\"\n| filter isNotNull(Duration)\n| fieldsAdd sla = if(Duration > 23, \"NotMet\", else: \"Met\")\n| makeTimeseries  Met = countIf(sla == \"Met\"), notMet = countIf(sla == \"NotMet\")","visualizationSettings":{"chartSettings":{"gapPolicy":"connect","legend":{"hidden":true,"position":"auto"},"colorPalette":["apdex"],"categoricalBarChartSettings":{"layout":"vertical","scale":"relative","categoryAxisTickLayout":"vertical"},"circleChartSettings":{"groupingThresholdValue":null,"groupingThresholdType":"relative","groupingName":"slaStatus","hideLabels":true},"valueRepresentation":"relative","seriesOverrides":[{"seriesId":["notMet"],"override":{"color":{"Default":"var(--dt-colors-charts-vulnerability-risk-level-critical-default, #970c0c)","Hover":"var(--dt-colors-charts-vulnerability-risk-level-critical-hover, #750b0b)","Active":"var(--dt-colors-charts-vulnerability-risk-level-critical-active, #4b0707)","DefaultTransparent":"var(--dt-colors-charts-vulnerability-risk-level-critical-default-transparent, #591300cc)","HoverTransparent":"var(--dt-colors-charts-vulnerability-risk-level-critical-hover-transparent, #000c)","ActiveTransparent":"var(--dt-colors-charts-vulnerability-risk-level-critical-active-transparent, #000c)"}}},{"seriesId":["Met"],"override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #0d9c29)","Hover":"var(--dt-colors-charts-categorical-color-09-hover, #0a7b20)","Active":"var(--dt-colors-charts-categorical-color-09-active, #075f19)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-09-default-transparent, #008500cc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-09-hover-transparent, #005905cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-09-active-transparent, #003112cc)"}}},{"seriesId":"sloNotMetPct","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #d50b34)","Hover":"var(--dt-colors-charts-categorical-color-12-hover, #b30024)","Active":"var(--dt-colors-charts-categorical-color-12-active, #7e071d)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-12-default-transparent, #c5000ccc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-12-hover-transparent, #83000fcc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-12-active-transparent, #140000cc)"}}},{"seriesId":"sloMetPct","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #0d9c29)","Hover":"var(--dt-colors-charts-categorical-color-09-hover, #0a7b20)","Active":"var(--dt-colors-charts-categorical-color-09-active, #075f19)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-09-default-transparent, #008500cc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-09-hover-transparent, #005905cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-09-active-transparent, #003112cc)"}}},{"seriesId":"NotMet_slaStatus","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #d50b34)","Hover":"var(--dt-colors-charts-categorical-color-12-hover, #b30024)","Active":"var(--dt-colors-charts-categorical-color-12-active, #7e071d)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-12-default-transparent, #c5000ccc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-12-hover-transparent, #83000fcc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-12-active-transparent, #140000cc)"}}},{"seriesId":"Met_slaStatus","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #0d9c29)","Hover":"var(--dt-colors-charts-categorical-color-09-hover, #0a7b20)","Active":"var(--dt-colors-charts-categorical-color-09-active, #075f19)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-09-default-transparent, #008500cc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-09-hover-transparent, #005905cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-09-active-transparent, #003112cc)"}}}],"leftYAxisSettings":{"min":0,"max":100,"scale":"linear"}},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":"","recordField":"slaStatus"}},"visualization":"barChart"},"56":{"type":"data","title":"Time from deposit to first Sell","query":"fetch bizevents\n| filter event.provider == \"www.easytrade.com\"\n| sort timestamp, direction:\"descending\"\n| filter event.type == \"com.easytrade.long-sell\" OR event.type == \"com.easytrade.deposit\"\n| fieldsAdd deposit_ts = if(event.type == \"com.easytrade.deposit\", toLong(timestamp))\n| fieldsAdd sell_asset_ts = if(event.type == \"com.easytrade.long-sell\", toLong(timestamp))\n| summarize first_deposit_ts = takeFirst(deposit_ts), first_sell_asset_ts = takeFirst(sell_asset_ts), by:{`Account ID`}\n| fieldsAdd time_from_deposit_to_first_sell = (first_sell_asset_ts - first_deposit_ts)/(1000000000.0)\n| filter time_from_deposit_to_first_sell > 5\n| limit 5\n| fields `Account ID`, time_from_deposit_to_first_sell, alias:{Seconds} \n| sort Seconds desc\n\n\n","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":""}},"visualization":"table"},"57":{"type":"data","title":"Most recent trades","query":"fetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter (event.type == \"com.easytrade.long-buy\" OR event.type == \"com.easytrade.long-sell\")\n| filter isNotNull(Amount)\n| filterOut isNull(trace_id)\n| parse event.type, \"'com.easytrade.long-' STRING:TradeType\"\n| fieldsAdd sla = if(Duration > 23, \"ðŸ”´\", else: \"ðŸŸ¢\")\n| fields {timestamp, alias:Time}, `Account ID`, TradeType, Amount, Price, TotalVolume = round(Amount * Price, decimals:2),trace_id\n| sort Time,  direction:\"descending\"\n| limit 5","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"hiddenColumns":[["tradeType"]],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":true,"suffix":""}},"visualization":"table"},"58":{"type":"data","title":"Sell SLA status","query":"\nfetch bizevents\n| filter matchesValue(event.provider, \"www.easytrade.com\")\n| filter event.type == \"com.easytrade.long-sell\"\n| filter isNotNull(Duration)\n| fieldsAdd sla = if(Duration > 23, \"NotMet\", else: \"Met\")\n| makeTimeseries  Met = countIf(sla == \"Met\"), notMet = countIf(sla == \"NotMet\")","visualizationSettings":{"chartSettings":{"gapPolicy":"connect","legend":{"hidden":true,"position":"auto"},"colorPalette":["apdex"],"categoricalBarChartSettings":{"layout":"vertical","scale":"relative","categoryAxisTickLayout":"vertical"},"circleChartSettings":{"groupingThresholdValue":null,"groupingThresholdType":"relative","groupingName":"slaStatus","hideLabels":true},"valueRepresentation":"relative","seriesOverrides":[{"seriesId":["notMet"],"override":{"color":{"Default":"var(--dt-colors-charts-vulnerability-risk-level-critical-default, #970c0c)","Hover":"var(--dt-colors-charts-vulnerability-risk-level-critical-hover, #750b0b)","Active":"var(--dt-colors-charts-vulnerability-risk-level-critical-active, #4b0707)","DefaultTransparent":"var(--dt-colors-charts-vulnerability-risk-level-critical-default-transparent, #591300cc)","HoverTransparent":"var(--dt-colors-charts-vulnerability-risk-level-critical-hover-transparent, #000c)","ActiveTransparent":"var(--dt-colors-charts-vulnerability-risk-level-critical-active-transparent, #000c)"}}},{"seriesId":["Met"],"override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #0d9c29)","Hover":"var(--dt-colors-charts-categorical-color-09-hover, #0a7b20)","Active":"var(--dt-colors-charts-categorical-color-09-active, #075f19)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-09-default-transparent, #008500cc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-09-hover-transparent, #005905cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-09-active-transparent, #003112cc)"}}},{"seriesId":"sloNotMetPct","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #d50b34)","Hover":"var(--dt-colors-charts-categorical-color-12-hover, #b30024)","Active":"var(--dt-colors-charts-categorical-color-12-active, #7e071d)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-12-default-transparent, #c5000ccc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-12-hover-transparent, #83000fcc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-12-active-transparent, #140000cc)"}}},{"seriesId":"sloMetPct","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #0d9c29)","Hover":"var(--dt-colors-charts-categorical-color-09-hover, #0a7b20)","Active":"var(--dt-colors-charts-categorical-color-09-active, #075f19)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-09-default-transparent, #008500cc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-09-hover-transparent, #005905cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-09-active-transparent, #003112cc)"}}},{"seriesId":["NotMet","slaStatus"],"override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #d50b34)","Hover":"var(--dt-colors-charts-categorical-color-12-hover, #b30024)","Active":"var(--dt-colors-charts-categorical-color-12-active, #7e071d)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-12-default-transparent, #c5000ccc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-12-hover-transparent, #83000fcc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-12-active-transparent, #140000cc)"}}},{"seriesId":["NotMet","slaStatus"],"override":{"color":"#b3007d"}},{"seriesId":["Met","slaStatus"],"override":{"color":"#b3007d"}},{"seriesId":"NotMet_slaStatus","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #d50b34)","Hover":"var(--dt-colors-charts-categorical-color-12-hover, #b30024)","Active":"var(--dt-colors-charts-categorical-color-12-active, #7e071d)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-12-default-transparent, #c5000ccc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-12-hover-transparent, #83000fcc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-12-active-transparent, #140000cc)"}}},{"seriesId":"Met_slaStatus","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #0d9c29)","Hover":"var(--dt-colors-charts-categorical-color-09-hover, #0a7b20)","Active":"var(--dt-colors-charts-categorical-color-09-active, #075f19)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-09-default-transparent, #008500cc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-09-hover-transparent, #005905cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-09-active-transparent, #003112cc)"}}}],"leftYAxisSettings":{"min":0,"max":100}},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"firstVisibleRowIndex":0},"singleValueSettings":{"autoscale":false,"showLabel":false,"suffix":""}},"visualization":"barChart"},"59":{"type":"code","title":"Problems","input":"import { problemsClient } from '@dynatrace-sdk/client-classic-environment-v2';\n\nasync function getProblemsList() {\n  const response = await problemsClient.getProblems({\n   from: 'now-7d', entitySelector: \"type(APPLICATION)\"\n    //from: 'now-1d', problemSelector: \"status(Closed)\"\n    //from: 'now-1d', problemSelector: \"status(Open)\"\n  });\n  const result = await response;\n  // console.log(result.problems);\n  return result.problems;\n}\n\nfunction expandArray(array) {\n  if (array.length == 1) {\n    return array[0].name;\n  } else if (array.length > 1) {\n    var retVal = \"\"\n    for (let i=0;i<array.length;i++) {\n      if (i!=0) {\n        retVal = retVal + \", \" + array[i].name;\n      } else {\n        retVal = array[i].name;\n      }\n    }\n    return retVal;\n  }\n  return \"\"; \n}\n\nexport default async function () {\n  const response = await getProblemsList();\n  //console.log(response);\n  const problems=response;\n  const types = [{\n      mappings: {\n        startTime: {type: 'timestamp'},\n        status: {type: 'string'},\n        displayId: {type: 'string'},\n        title: {type: 'string'},\n        impactLevel: {type: 'string'},\n        severityLevel: {type: 'string'},\n        affectedEntities: {type: 'string'},\n        impactedEntities: {type: 'string'},\n        rootCauseEntity: {type: 'string'},\n        duration: {type: 'double'},\n        \"event.id\": {type: 'string'},\n        endTime: {type: 'timestamp'}\n        },\n        indexRange: [\n        0,\n        problems.length\n      ]\n  }]\n  //console.log(types);\n  // Create a new empty data frame for the result\n  const dataFrame = {\n    records: [],\n    types: types\n  }\n  \n  for(let i=0; i<problems.length; i++) {\n      const problem = problems[i];\n      var duration = \"\";\n      if (problem.endTime == null || problem.endTime == \"\" || problem.endTime < 0) {\n        duration = Math.round(((Date.now() - problem.startTime)/1000)/60);\n      } else {\n        duration = Math.round(((problem.endTime-problem.startTime)/1000)/60);\n      }\n      var pstatus = \"\";\n      if (problem.status == 'OPEN') {\n        pstatus = \"ðŸ”´ OPEN\";\n      } else {\n        pstatus = 'ðŸŸ¢ CLOSED';\n      }\n      var affectedEntities = expandArray(problem.affectedEntities);\n      var impactedEntities = expandArray(problem.impactedEntities);\n      var rootCause = \"\";\n      if (problem.rootCauseEntity == null) {\n        rootCause = \"\"\n      } else {\n        rootCause = problem.rootCauseEntity[\"name\"];\n      }\n       const record = {\n              startTime: problem.startTime,\n              status: pstatus,\n              displayId: problem.displayId,\n              title: problem.title,\n              impactLevel: problem.impactLevel,\n              severityLevel: problem.severityLevel,\n              affectedEntities: affectedEntities,\n              impactedEntities: impactedEntities,\n              rootCauseEntity: rootCause,\n              duration: duration,\n              \"event.id\": problem.problemId,\n              endTime: problem.endTime\n            }\n        dataFrame.records.push(record);\n    }\n  //console.log(dataFrame);\n  return dataFrame;\n}","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"hiddenColumns":[["dataPond"],["rollupType"],["tenant"],["recordType"],["impactLevel"],["endTime"]],"firstVisibleRowIndex":0}},"visualization":"table"}},"layouts":{"34":{"x":0,"y":0,"w":6,"h":1},"35":{"x":6,"y":0,"w":12,"h":1},"36":{"x":18,"y":0,"w":6,"h":1},"37":{"x":21,"y":1,"w":3,"h":2},"38":{"x":18,"y":1,"w":3,"h":2},"39":{"x":15,"y":1,"w":3,"h":2},"40":{"x":12,"y":1,"w":3,"h":2},"41":{"x":9,"y":1,"w":3,"h":2},"42":{"x":6,"y":1,"w":3,"h":2},"43":{"x":3,"y":1,"w":3,"h":2},"44":{"x":0,"y":1,"w":3,"h":2},"45":{"x":18,"y":3,"w":6,"h":5},"46":{"x":12,"y":3,"w":6,"h":5},"47":{"x":6,"y":3,"w":6,"h":5},"48":{"x":0,"y":3,"w":6,"h":5},"49":{"x":5,"y":8,"w":5,"h":6},"50":{"x":0,"y":8,"w":5,"h":6},"51":{"x":10,"y":8,"w":4,"h":6},"52":{"x":18,"y":8,"w":3,"h":2},"53":{"x":21,"y":8,"w":3,"h":2},"54":{"x":14,"y":8,"w":4,"h":6},"55":{"x":18,"y":10,"w":6,"h":5},"56":{"x":14,"y":14,"w":4,"h":6},"57":{"x":0,"y":14,"w":14,"h":6},"58":{"x":18,"y":15,"w":6,"h":5},"59":{"x":0,"y":20,"w":24,"h":5}},"refreshRate":0}